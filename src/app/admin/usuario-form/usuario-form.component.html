    
    <link rel="stylesheet" href="https://unpkg.com/ngx-bootstrap/datepicker/bs-datepicker.css">
    <app-header></app-header>


 
            <div class="container">
                <div class="row">
                    <div class="col-md-6 offset-md-3">
                        <h3>Nuevo Usuario</h3>
                        <form id="registerForm" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                            <div class="form-group">
                                <label>Nombre</label>
                                <input type="text" formControlName="nombre" class="form-control" [(ngModel)]="usuario.nombre" [ngClass]="{ 'is-invalid': (submitted || f.nombre.touched) && f.nombre.errors }"/>
                                <div *ngIf="f.nombre.invalid && (f.nombre.dirty || f.nombre.touched || submitted)  " class="invalid-feedback">
                                    <div *ngIf="f.nombre.errors.required">Nombre es requerido</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Apellido</label>
                                <input type="text" formControlName="apellido" class="form-control" [(ngModel)]="usuario.apellido" [ngClass]="{ 'is-invalid': (submitted || f.apellido.touched) && f.apellido.errors }" />
                                <div *ngIf="f.apellido.invalid && (f.apellido.dirty || f.apellido.touched || submitted)" class="invalid-feedback">
                                    <div *ngIf="f.apellido.errors.required">Apellido es requerido</div>
                            </div>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="text" formControlName="email" class="form-control" [(ngModel)]="usuario.email" [ngClass]="{ 'is-invalid': (submitted || f.email.touched) && f.email.errors }" />
                                <div *ngIf="f.email.invalid && (f.email.dirty || f.email.touched || submitted)" class="invalid-feedback">
                                    <div *ngIf="f.email.errors.required">Email es requerido</div>
                                    <div *ngIf="f.email.errors.email">Email debe ser una direccion valida</div>
                                </div>
                            </div>
                            <div class="form-group">
                                    <label>Fecha de Nacimiento</label>
                                    <input type="text" formControlName="fechaNacimiento" class="form-control" [(ngModel)]="usuario.fechaNacimiento" [ngClass]="{ 'is-invalid': (submitted || f.fechaNacimiento.touched) && f.fechaNacimiento.errors}"  bsDatepicker [bsConfig]="dpConfig" placement="bottom"/>
                                    <div *ngIf="f.fechaNacimiento.invalid && (f.fechaNacimiento.dirty || f.fechaNacimiento.touched || submitted)  " class="invalid-feedback">
                                        <!--<div *ngIf="f.fechaNacimiento.errors.required">Nombre es requerido</div>-->
                                    </div>
                            </div>
                            <div class="form-group">
                                    <label>Username</label>
                                    <input type="text" formControlName="username" class="form-control" [(ngModel)]="usuario.username" [ngClass]="{ 'is-invalid': (submitted || f.username.touched) && f.username.errors }" />
                                    <div *ngIf="f.username.invalid && (f.username.dirty || f.username.touched || submitted)" class="invalid-feedback">
                                        <div *ngIf="f.username.errors.required">Username es requerido</div>
                                    </div>
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" formControlName="password" class="form-control" [(ngModel)]="usuario.password" [ngClass]="{ 'is-invalid': (submitted ||  f.password.touched) && f.password.errors }" />
                                
                                <div *ngIf="f.password.invalid && (f.password.dirty || f.password.touched || submitted)" class="invalid-feedback">
                                    <div *ngIf="f.password.errors.required">Password es requerido</div>
                                    <div *ngIf="f.password.errors.minlength">Password debe tener al menos 6 caracteres</div>
                            </div>
                            </div>
                            <div class="form-group">
                                    <label>Cedula</label>
                                    <input  type="text" formControlName="cedula" class="form-control"   [(ngModel)]="usuario.cedula"   [ngClass]="{ 'is-invalid': (submitted || f.cedula.touched) && f.cedula.errors }" />
                                    <div *ngIf="f.cedula.invalid && (f.cedula.dirty || f.cedula.touched || submitted)" class="invalid-feedback">
                                        <div *ngIf="f.cedula.errors.required">Cedula es requerido</div>
                                    </div>
                                    <h6>{{usuario.cedula | cedula}}</h6>
                            </div>
                            <div class="form-group">
                                <label>Rol</label>
                                <select class="form-control" formControlName='rol' id="rol" [(ngModel)]="rol.nombre" required>
                                    <option *ngFor="let rol of roles"  [value]="rol"> {{rol}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Foto</label>
                                <p-fileUpload name="demo[]" [showUploadButton]="false" multiple="multiple"
                                (onSelect)="onSelect($event)"  accept="image/*" maxFileSize="100000">
                                </p-fileUpload>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary">Agregar</button>
                                <button (click)="cancelar()" class="btn btn-default">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


                




